{
  "pluginAlias": "Pushcutter",
  "headerDisplay": "Homebridge plugin for Pushcut notifications.",
  "footerDisplay": "Please visit https://github.com/kernie66/homebridge-pushcutter for more details.",
  "pluginType": "platform",
  "singular": true,
  "schema":
  {
    "type": "object",
    "properties": 
    {
      "name": 
      {
        "description": "Plugin name as displayed in the homebridge log.",
        "type": "string",
        "required": true,
        "default": "Pushcutter"
      },
      "apiKey": 
      {
        "title": "Pushcut API Key",
        "type": "string",
        "required": true,
        "placeholder": "Enter API key"
      },
      "devices": 
      {
        "title": "Pushcut devices (leave blank for all)",
        "type": "string",
        "required": false,
        "placeholder": "device1,device2,...",
        "description": "Device list seperated by comma - WITHOUT SPACE after comma!"
      },        
      "notifications": 
      {
        "title": "Pushcut notifications",
        "notitle": true,
        "type": "array",
        "items": 
        {
          "type": "object",
          "properties": 
          {
            "switchName": 
            {
              "title": "Notification switch name",
              "description": "Name of the notification switch.",
              "type": "string",
              "required": true
            },
	    "notificationName":
            {
              "title": "Pushcut notification name",
              "description": "Name of the Pushcut notification to use for the switch.",
              "type": "string",
              "required": true
            },
            "sound": 
            {
              "title": "Notification sound",
              "type": "string",
              "default": "system",
              "oneOf": [
                {
                  "title": "vibrateOnly",
                  "enum": [
                    "vibrateOnly"
                  ]
                },
                {
                  "title": "system",
                  "enum": [
                    "system"
                  ]
                },
                {
                  "title": "subtle",
                  "enum": [
                    "subtle"
                  ]
                },
                {
                  "title": "question",
                  "enum": [
                    "question"
                  ]
                },
                {
                  "title": "jobDone",
                  "enum": [
                    "jobDone"
                  ]
                },
                {
                  "title": "problem",
                  "enum": [
                    "problem"
                  ]
                },
                {
                  "title": "loud",
                  "enum": [
                    "loud"
                  ]
                },
                {
                  "title": "lasers",
                  "enum": [
                    "lasers"
                  ]
                }
              ]
            }
          }
        }
      }
    }
  },
  "form": [
    {
      "type": "help",
      "helpvalue": "<div class=\"alert alert-info\">Homebridge Pushcut Notifications</div>"
    },
    {
      "key": "name",
      "type": "text"
    },
    {
      "key": "apiKey",
      "type": "text"
    },
    {
      "key": "devices",
      "type": "text"
    },
    {
      "nodescription": true,
      "notitle": false,
      "key": "notifications",
      "title": "Notifications",
      "type": "array",
      "items": [
        {
          "type": "section",
          "notitle": true,
          "items": [
            {
              "key": "notifications[]",
              "title": "{{ 'Notification switch ' + $index + ' settings' }}",
              "items": [
                {
		  "type": "section",
	          "items": ["notifications[].switchName"]
                },
                {
		  "type": "section",
	          "items": ["notifications[].notificationName"]
                },
                {
		  "type": "section",
	          "items": ["notifications[].sound"]
                }
              ]
	    }
          ]
        }
      ]
    }
  ]
}
